{"version":3,"sources":["webpack:///F:/shop/xcxshop/components/uni-form-edit/uni-form-edit.vue?07ac","webpack:///F:/shop/xcxshop/components/uni-form-edit/uni-form-edit.vue?ec89","webpack:///F:/shop/xcxshop/components/uni-form-edit/uni-form-edit.vue?cfa3","webpack:///F:/shop/xcxshop/components/uni-form-edit/uni-form-edit.vue?260c","webpack:///F:/shop/xcxshop/components/uni-form-edit/uni-form-edit.vue"],"names":["__webpack_require__","r","__webpack_exports__","_uni_form_edit_vue_vue_type_template_id_36387308___WEBPACK_IMPORTED_MODULE_0__","_uni_form_edit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__","component","Object","renderjs","options","__file","_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_uni_form_edit_vue_vue_type_template_id_36387308___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","recyclableRender","_h","this","$createElement","_self","_c","_withStripped","_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_uni_form_edit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_uni_form_edit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","name","props","model","type","rules","queryOneInterface","String","editInterface","deleteInterface","uid","data","created","option","getQueryOne","methods","submit","value","required","message","uni","showModal","content","showCancel","isPoneAvailable","isCardNumAvailabel","$emit","putSubmit","_getQueryOne","_asyncToGenerator","_regenerator","default","mark","_callee","newData","wrap","_context","prev","next","$request","url","concat","sent","JSON","parse","stop","apply","arguments","_putSubmit","_callee2","param","_context2","showToast","title","$api","prePage","refreshList","setTimeout","navigateBack","_x","del","_this","success","res","confirm","deleteApi","_deleteApi","_callee3","_context3","test"],"mappings":"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","file":"components/uni-form-edit/uni-form-edit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uni-form-edit.vue?vue&type=template&id=36387308&\"\nvar renderjs\nimport script from \"./uni-form-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-form-edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('36387308')) {\n      api.createRecord('36387308', component.options)\n    } else {\n      api.reload('36387308', component.options)\n    }\n    module.hot.accept(\"./uni-form-edit.vue?vue&type=template&id=36387308&\", function () {\n      api.rerender('36387308', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/shop/xcxshop/components/uni-form-edit/uni-form-edit.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-form-edit.vue?vue&type=template&id=36387308&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-form-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-form-edit.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n/*\r\n * required = '' 必填\r\n * type = 'phone' 验证手机号格式\r\n * type = 'cardnum' 验证身份证号格式\r\n */\r\nexport default {\r\n\tname: 'uniFormEdit',\r\n\tprops: {\r\n\t\tmodel: {\r\n\t\t\ttype: Object\r\n\t\t},\r\n\t\trules: {\r\n\t\t\ttype: Object\r\n\t\t},\r\n\t\tqueryOneInterface: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\teditInterface: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tdeleteInterface: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tuid: {\r\n\t\t\ttype: String\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcreated(option) {\r\n\t\tthis.getQueryOne();\r\n\t},\r\n\tmethods: {\r\n\t\tsubmit: function() {\r\n\t\t\tif (this.rules) {\r\n\t\t\t\tfor (let key in this.rules) {\r\n\t\t\t\t\tlet value = this.model[key];\r\n\t\t\t\t\tlet required = this.rules[key].required;\r\n\t\t\t\t\tlet type = this.rules[key].type;\r\n\t\t\t\t\tlet message = this.rules[key].message ? this.rules[key].message : '字段不能为空';\r\n\t\t\t\t\tif (value == required) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: message,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (type == 'phone') {\r\n\t\t\t\t\t\tlet resuleMsg = this.isPoneAvailable(value);\r\n\t\t\t\t\t\tif (!resuleMsg) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: '手机号码格式不正确',\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (type == 'cardnum') {\r\n\t\t\t\t\t\tlet resuleMsg = this.isCardNumAvailabel(value);\r\n\t\t\t\t\t\tif (!resuleMsg) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: '身份证格式不正确',\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.$emit('submit', this.model);\r\n\t\t\tthis.putSubmit(this.model);\r\n\t\t},\r\n\t\t// 查询单条数据\r\n\t\tasync getQueryOne() {\r\n\t\t\tlet data = await this.$request({\r\n\t\t\t\turl: `${this.queryOneInterface}/${this.uid}`\r\n\t\t\t});\r\n\t\t\tlet newData = JSON.parse(data);\r\n\t\t\tif (newData) {\r\n\t\t\t\tthis.model = newData;\r\n\t\t\t\tthis.$emit('update:model', newData);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 修改api\r\n\t\tasync putSubmit(param) {\r\n\t\t\tawait this.$request({\r\n\t\t\t\turl: this.editInterface,\r\n\t\t\t\tmethods: 'PUT',\r\n\t\t\t\tdata: param\r\n\t\t\t});\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '修改成功'\r\n\t\t\t});\r\n\t\t\tif(this.$api.prePage().refreshList) {\r\n\t\t\t\tthis.$api.prePage().refreshList();\r\n\t\t\t}\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tdel() {\r\n\t\t\tlet _this = this;\r\n\t\t\tthis.$emit('del', this.model);\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\tcontent: '是否删除该条数据？',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t_this.deleteApi();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 删除api\r\n\t\tasync deleteApi() {\r\n\t\t\tawait this.$request({\r\n\t\t\t\turl: `${this.deleteInterface}/${this.uid}`,\r\n\t\t\t\tmethods: 'DELETE'\r\n\t\t\t});\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '删除成功'\r\n\t\t\t});\r\n\t\t\tif(this.$api.prePage().refreshList) {\r\n\t\t\t\tthis.$api.prePage().refreshList();\r\n\t\t\t}\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tisPoneAvailable(value) {\r\n\t\t\tvar myreg = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n\t\t\tif (!myreg.test(value)) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tisCardNumAvailabel(value) {\r\n\t\t\tvar myreg = /^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$|^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/;\r\n\t\t\tif (!myreg.test(value)) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n"],"sourceRoot":""}